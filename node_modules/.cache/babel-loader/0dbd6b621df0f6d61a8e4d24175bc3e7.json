{"ast":null,"code":"import _toConsumableArray from\"C:/Users/matts/Documents/Projects/React/ReactStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/matts/Documents/Projects/React/ReactStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/matts/Documents/Projects/React/ReactStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import{BrowserRouter,Switch,Route}from\"react-router-dom\";import Navbar from\"./Navbar.js\";import Home from\"./Home.js\";import About from\"./About.js\";import Products from\"./Products.js\";import ProductDetails from\"./ProductDetails.js\";import Cart from\"./Cart.js\";function App(){var _useState=useState(function(){var savedString=localStorage.getItem(\"cart\");var savedCart=[];try{savedCart=JSON.parse(localStorage.getItem(\"cart\"))||[];}catch(error){savedCart=[];}return savedCart;}),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];useEffect(function(){if(cart){localStorage.setItem(\"cart\",JSON.stringify(cart));}},[cart]);function handleProductDelete(id){var updatedCart=cart.filter(function(product){return product.id!==id;});setCart(updatedCart);}function handleProductAdd(newProduct){// check if item exists\nvar existingProduct=cart.find(function(product){return product.id===newProduct.id;});if(existingProduct){// increase quantity\nvar updatedCart=cart.map(function(product){if(product.id===newProduct.id){return _objectSpread(_objectSpread({},product),{},{quantity:product.quantity+1});}return product;});setCart(updatedCart);}else{// product is new to the cart\nsetCart([].concat(_toConsumableArray(cart),[_objectSpread(_objectSpread({},newProduct),{},{quantity:1})]));}}return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Navbar,{cart:cart}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/about\",children:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/products\",children:/*#__PURE__*/_jsx(Products,{cart:cart,onProductAdd:handleProductAdd,onProductDelete:handleProductDelete})}),/*#__PURE__*/_jsx(Route,{path:\"/products/:id\",children:/*#__PURE__*/_jsx(ProductDetails,{onProductAdd:handleProductAdd})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/cart\",children:/*#__PURE__*/_jsx(Cart,{cart:cart})})]})})]});}export default App;","map":{"version":3,"sources":["C:/Users/matts/Documents/Projects/React/ReactStore/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Switch","Route","Navbar","Home","About","Products","ProductDetails","Cart","App","savedString","localStorage","getItem","savedCart","JSON","parse","error","cart","setCart","setItem","stringify","handleProductDelete","id","updatedCart","filter","product","handleProductAdd","newProduct","existingProduct","find","map","quantity"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Navbar from \"./Navbar.js\";\nimport Home from \"./Home.js\";\nimport About from \"./About.js\";\nimport Products from \"./Products.js\";\nimport ProductDetails from \"./ProductDetails.js\";\nimport Cart from \"./Cart.js\";\n\nfunction App() {\n  const [cart, setCart] = useState(function () {\n    const savedString = localStorage.getItem(\"cart\");\n    let savedCart = [];\n    try {\n      savedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    } catch (error) {\n      savedCart = [];\n    }\n    return savedCart;\n  });\n\n  useEffect(() => {\n    if (cart) {\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n  }, [cart]);\n\n  function handleProductDelete(id) {\n    const updatedCart = cart.filter((product) => product.id !== id);\n    setCart(updatedCart);\n  }\n\n  function handleProductAdd(newProduct) {\n    // check if item exists\n    const existingProduct = cart.find(\n      (product) => product.id === newProduct.id\n    );\n    if (existingProduct) {\n      // increase quantity\n      const updatedCart = cart.map((product) => {\n        if (product.id === newProduct.id) {\n          return {\n            ...product,\n            quantity: product.quantity + 1,\n          };\n        }\n        return product;\n      });\n      setCart(updatedCart);\n    } else {\n      // product is new to the cart\n      setCart([\n        ...cart,\n        {\n          ...newProduct,\n          quantity: 1,\n        },\n      ]);\n    }\n  }\n\n  return (\n    <BrowserRouter>\n      <Navbar cart={cart} />\n      <div className=\"container\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/about\">\n            <About />\n          </Route>\n          <Route exact path=\"/products\">\n            <Products\n              cart={cart}\n              onProductAdd={handleProductAdd}\n              onProductDelete={handleProductDelete}\n            />\n          </Route>\n          <Route path=\"/products/:id\">\n            <ProductDetails onProductAdd={handleProductAdd} />\n          </Route>\n          <Route exact path=\"/cart\">\n            <Cart cart={cart} />\n          </Route>\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}